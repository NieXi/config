" ===================================================
"           Name:   _vimrc for Win10                =    
"           Author:     NieXi                       =    
"           Email:      xilemon3@gmail.com          =    
" ===================================================

" Startup {{{
filetype plugin indent on							" 载入文件类型插件,和缩进
augroup ft_vim
    au!
    au FileType vim setlocal foldmethod=marker
augroup end
" }}}

" General {{{
set nocompatible                    " 设置不兼容vi模式
set clipboard+=unnamed              " vim默认寄存器与系统剪切版共享
set mousehide                       " 输入时隐藏鼠标
set backspace=2                     " insert模式下启用backspace
set nobackup
set noswapfile
set history=1024
set autoread
" }}}

" Lang & Encoding {{{
set encoding=utf8									" 设置编码
set fileencoding=utf-8
let $LANG="zh_CN.UTF-8"
set langmenu=zh_cn.utf-8							" 设置菜单栏编码
language messages zh_CN.utf-8						" 解决提示信息乱码
set helplang=cn										" 设置帮助的语言为中文
source $VIMRUNTIME/delmenu.vim                      " 解决菜单栏乱码
source $VIMRUNTIME/menu.vim
" }}}

" Plugin {{{

filetype off
set rtp+=$VIM/vimfiles/bundle/Vundle.vim
call vundle#begin('$VIM/vimfiles/bundle/')

" ----- Vundle ----- {{{
Plugin 'VundleVim/Vundle.vim'
"  }}}

" 来自github的插件
" ----- Theme ----- {{{
Plugin 'altercation/vim-colors-solarized'
"  }}}

" ----- vim-powerline ----- {{{
Plugin 'Lokaltog/vim-powerline'
set laststatus=2 					                " 始终显示状态栏
"Plugin 'bling/vim-airline'
"Plugin 'vim-airline/vim-airline-themes'
"let g:airline_theme="papercolor"
"let g:airline_theme="solarized"
"let g:airline_theme="powerlineish"
"let g:airline_theme="base16"
"let g:airline_powerline_fonts = 1
"let g:airline#extensions#tabline#enabled = 1
"  }}}

" ----- MarkDown ----- {{{
Plugin 'tangledhelix/vim-octopress'
"  }}}

" ----- NERDTree----- {{{
Plugin 'scrooloose/nerdtree'
map <F2> :NERDTreeToggle<CR>
"  }}}

" ----- Ctrl-p ----- {{{
Plugin 'kien/ctrlp.vim'
"  }}}

" ----- minibufexpl ----- {{{
Plugin 'fholgado/minibufexpl.vim'
let g:miniBufExplMapCTabSwitchBufs = 1
" }}}

Plugin 'magexi/vimcdoc'                             " vim中文文档

filetype on
call vundle#end()
" }}}

" GUI {{{
set background=dark
colorscheme solarized
set cursorline						 " 高亮显示当前行/列
set cursorcolumn
set nu
"set relativenumber                  " 设置相对行号
"autocmd GUIEnter * simalt ~x		 " 设定windows下 gvim 启动时最大化
winpos 500 100                       " 设定启动位置
set lines=30 columns=90
set guioptions-=T                    " 不显示工具栏/菜单栏
set guioptions-=m
set guioptions-=L
set guioptions-=r
set guioptions-=b
set guioptions-=e 					 " 使用内置tab样式,而不是gui
"set guifont=DejaVu_Sans_Mono_for_Powerline:h11:b:cANSI:qDRAFT
set guifont=YaHei_Consolas_Hybrid:h12.5    " :b
" }}}

" Format {{{
set autoindent					
set smartindent
syntax enable						
syntax on							
set tabstop=4
set expandtab						" 将制表符扩展为空格
set softtabstop=4					" 设置格式化时制表符占用空格数
set shiftwidth=4					" 让vim把连续的空格视为一个制表符
" set foldmethod=indent             " 设置代码折叠方式为缩进
" }}}

" ----- Keymap -----{{{
let mapleader=","
nmap <leader>s :source $HOME/_vimrc<cr>
nmap <leader>e :e $HOME/_vimrc<cr>
nmap <leader>ee :e E:\<cr>
nmap <leader>dd :e D:\<cr>
" }}}

" Other {{{
set vb t_vb= 						" 关闭提示音
set is                              " 输入即可搜索
set ignorecase
set hlsearch                             " 高亮显示搜索结果
set wildmenu						" vim 自身命令行模式智能补全
set ruler							" 右下角显示光标位置的状态行
set hidden 							" 避免必须保存修改才可以跳转buffer
set foldlevel=0                     " 设置折叠层次 0表示全部折叠
set mouse=a
set showmode
set showcmd
set showmatch                       " 设置括号匹配
set nrformats=                      " 默认10进制
"set showtabline=2                   " 显示状态栏
set guicursor+=a:blinkon0           " 设置光标不闪烁
" }}}
